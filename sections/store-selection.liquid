{{ 'store-selection.css' | asset_url | stylesheet_tag }}

<section class="store-selector page-width">
  <div class="grid">
    <!-- Left: Title and Vertical Menu -->
    <div class="grid__item medium-up--one-third store-selector__menu">
      <h2 class="store-selector__title">Onze winkels</h2>
      <ul class="store-selector__list">
        {% for block in section.blocks %}
        <li class="store-selector__item" data-image="{{ block.settings.image | file_url }}">
          {{ block.settings.title }}
        </li>
        {% endfor %}
      </ul>
    </div>

    <!-- Right: Image and Message -->
    <div class="grid__item medium-up--two-thirds store-selector__content">
      <div class="store-selector__image-container">
        <img class="store-selector__image" src="{{ section.settings.default_image | file_url }}" alt="Store Image">
      </div>
      <div class="store-selector__message">
        <p>{{ section.settings.message_text }}</p>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const items = document.querySelectorAll('.store-selector__item');
    const image = document.querySelector('.store-selector__image');
    const defaultImage = image.src;

    items.forEach(item => {
      item.addEventListener('mouseover', () => {
        const hoverImage = item.getAttribute('data-image');
        if (hoverImage) {
          image.src = hoverImage;
        }
      });

      item.addEventListener('mouseout', () => {
        image.src = defaultImage;
      });
    });
  });
</script>

{% schema %}
{
  "name": "Store Selection",
  "settings": [],
  "blocks": [
    {
      "type": "menu_item",
      "name": "Menu Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Amsterdam"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"s
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Store Selection",
      "category": "Custom"
    }
  ]
}
{% endschema %}