{{ 'section-about-us.css' | asset_url | stylesheet_tag }}

<section class="about-us container-desktop py-5">
    <div class="row">
        <div class="col-12">
            <h2 class="text-center">{{ section.settings.header }}</h2>
        </div>
        <div id="dynamic-columns" class="row">
            <div class="col-12 col-md-6 col-lg-4">
                <p class="dynamic-copy">{{ section.settings.copy }}</p>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const copyElement = document.querySelector('.dynamic-copy');
    const copyContainer = document.getElementById('dynamic-columns');
    const textLength = copyElement.textContent.trim().length;

    if (textLength > 500) {
        copyContainer.classList.add('row-cols-1', 'row-cols-lg-3');
    } else if (textLength > 250) {
        copyContainer.classList.add('row-cols-1', 'row-cols-md-2');
    } else {
        copyContainer.classList.add('row-cols-1');
    }
});
</script>

{% schema %}
{
  "name": "About us",
  "settings": [
    {
      "type": "text",
      "id": "header",
      "label": "Header",
      "default": "Over Ons"
    },
    {
      "type": "textarea",
      "id": "copy",
      "label": "Copy",
      "default": "Welkom bij onze winkel. Wij staan voor kwaliteit en stijl."
    }
  ],
  "presets": [
    {
      "name": "About us"
    }
  ]
}
{% endschema %}
